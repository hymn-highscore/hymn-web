(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[388],{5379:(e,t,r)=>{"use strict";r.d(t,{D:()=>d,N:()=>c});var a=r(12115),s=(e,t,r,a,s,n,i,l)=>{let o=document.documentElement,d=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,a=r&&n?s.map(e=>n[e]||e):s;r?(o.classList.remove(...a),o.classList.add(n&&n[t]?n[t]:t)):o.setAttribute(e,t)}),r=t,l&&d.includes(r)&&(o.style.colorScheme=r)}if(a)c(a);else try{let e=localStorage.getItem(t)||r,a=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(a)}catch(e){}},n=["light","dark"],i="(prefers-color-scheme: dark)",l=a.createContext(void 0),o={setTheme:e=>{},themes:[]},d=()=>{var e;return null!=(e=a.useContext(l))?e:o},c=e=>a.useContext(l)?a.createElement(a.Fragment,null,e.children):a.createElement(h,{...e}),m=["light","dark"],h=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:s=!0,enableColorScheme:o=!0,storageKey:d="theme",themes:c=m,defaultTheme:h=s?"system":"light",attribute:b="data-theme",value:g,children:f,nonce:v,scriptProps:k}=e,[w,j]=a.useState(()=>x(d,h)),[N,A]=a.useState(()=>"system"===w?y():w),C=g?Object.values(g):c,S=a.useCallback(e=>{let t=e;if(!t)return;"system"===e&&s&&(t=y());let a=g?g[t]:t,i=r?p(v):null,l=document.documentElement,d=e=>{"class"===e?(l.classList.remove(...C),a&&l.classList.add(a)):e.startsWith("data-")&&(a?l.setAttribute(e,a):l.removeAttribute(e))};if(Array.isArray(b)?b.forEach(d):d(b),o){let e=n.includes(h)?h:null,r=n.includes(t)?t:e;l.style.colorScheme=r}null==i||i()},[v]),E=a.useCallback(e=>{let t="function"==typeof e?e(w):e;j(t);try{localStorage.setItem(d,t)}catch(e){}},[w]),z=a.useCallback(e=>{A(y(e)),"system"===w&&s&&!t&&S("system")},[w,t]);a.useEffect(()=>{let e=window.matchMedia(i);return e.addListener(z),z(e),()=>e.removeListener(z)},[z]),a.useEffect(()=>{let e=e=>{e.key===d&&(e.newValue?j(e.newValue):E(h))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),a.useEffect(()=>{S(null!=t?t:w)},[t,w]);let I=a.useMemo(()=>({theme:w,setTheme:E,forcedTheme:t,resolvedTheme:"system"===w?N:w,themes:s?[...c,"system"]:c,systemTheme:s?N:void 0}),[w,E,t,N,s,c]);return a.createElement(l.Provider,{value:I},a.createElement(u,{forcedTheme:t,storageKey:d,attribute:b,enableSystem:s,enableColorScheme:o,defaultTheme:h,value:g,themes:c,nonce:v,scriptProps:k}),f)},u=a.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:n,enableSystem:i,enableColorScheme:l,defaultTheme:o,value:d,themes:c,nonce:m,scriptProps:h}=e,u=JSON.stringify([n,r,o,t,c,d,i,l]).slice(1,-1);return a.createElement("script",{...h,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(s.toString(),")(").concat(u,")")}})}),x=(e,t)=>{let r;try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t},p=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},y=e=>(e||(e=window.matchMedia(i)),e.matches?"dark":"light")},8525:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});let a=(0,r(55417).createBrowserClient)("https://klpprahabrxhiuytcwnx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtscHByYWhhYnJ4aGl1eXRjd254Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NTY5ODcsImV4cCI6MjA4NDQzMjk4N30.hGi0-sQRpkaWsVyppYuuhM_8YbziP0_rfbLZQ97emFE")},9540:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]])},20063:(e,t,r)=>{"use strict";var a=r(47260);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},20508:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},24033:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},32480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var a=r(95155),s=r(12115),n=r(9540),i=r(86651),l=r(20508),o=r(24033),d=r(71847);let c=(0,d.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var m=r(20063),h=r(8525);function u(e){var t;let{sidebarOpen:r,toggleSidebar:d}=e,u=(0,m.useRouter)(),x=(0,m.usePathname)(),p=(0,s.useRef)(null),[y,b]=(0,s.useState)(!1),[g,f]=(0,s.useState)(null),[v,k]=(0,s.useState)(!1),w="/admin"===(t=x||"/admin")?"Dashboard":t.startsWith("/admin/my-hymns")?"My Hymns":t.startsWith("/admin/download-hymnal")?"Download Hymnal":t.startsWith("/admin/instruments")?"Instruments":t.startsWith("/admin/request-hymn")?"Request Hymn":t.startsWith("/admin/subscription")?"Subscription":t.startsWith("/admin/profile")?"Profile":"Admin";return(0,s.useEffect)(()=>{h.N.auth.getUser().then(e=>{var t,r;let{data:a}=e;f(null!=(r=null==(t=a.user)?void 0:t.email)?r:null)});let e=()=>{k(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,s.useEffect)(()=>{let e=e=>{p.current&&!p.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,a.jsxs)("header",{className:'\n        fixed top-0 left-0 right-0 z-40\n        h-16 px-4 md:px-6\n        flex items-center justify-between\n        transition-all duration-300\n         "bg-white/80 dark:bg-[#09090b]/80 backdrop-blur-md border-b border-gray-200 dark:border-white/10 shadow-lg shadow-black/10 dark:shadow-black/40" \n       \n      ',children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 md:gap-4",children:[(0,a.jsx)("button",{onClick:d,className:"p-2 -ml-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/10 transition-colors","aria-label":"Toggle Sidebar",children:(0,a.jsx)(n.A,{size:20})}),(0,a.jsx)("div",{className:"hidden md:flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",children:(0,a.jsx)("span",{className:"text-gray-900 dark:text-white",children:w})})]}),(0,a.jsx)("div",{className:"hidden md:flex flex-1 max-w-md mx-4",children:(0,a.jsxs)("div",{className:"relative w-full group",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(i.A,{size:16,className:"text-gray-400 group-focus-within:text-purple-500 transition-colors"})}),(0,a.jsx)("input",{type:"text",placeholder:"Search hymns, artists...",className:"   block w-full pl-10 pr-3 py-2   bg-gray-100 dark:bg-white/5   border border-transparent focus:border-purple-500/50   rounded-full text-sm   text-gray-900 dark:text-white   placeholder-gray-500 dark:placeholder-gray-400   focus:outline-none focus:ring-2 focus:ring-purple-500/20   transition-all duration-300   "})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 md:gap-4",children:[(0,a.jsx)("button",{className:"md:hidden p-2 rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:(0,a.jsx)(i.A,{size:20})}),(0,a.jsxs)("div",{className:"relative",ref:p,children:[(0,a.jsxs)("button",{onClick:()=>b(!y),className:"flex items-center gap-2 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-white/5 transition-colors border border-transparent hover:border-gray-200 dark:hover:border-white/10",children:[(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white font-bold text-xs shadow-md",children:g?g[0].toUpperCase():(0,a.jsx)(l.A,{size:14})}),(0,a.jsx)("div",{className:"hidden md:block text-left mr-1",children:(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-200 leading-none",children:"Admin"})}),(0,a.jsx)(o.A,{size:14,className:"text-gray-400 transition-transform duration-200 ".concat(y?"rotate-180":"")})]}),y&&(0,a.jsxs)("div",{className:"   absolute right-0 top-full mt-2 w-56   bg-white dark:bg-[#18181b]   border border-gray-200 dark:border-white/10   rounded-xl shadow-xl   py-2   origin-top-right   animate-in fade-in zoom-in-95 duration-200   ",children:[(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100 dark:border-white/5 mb-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:g||"User"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Administrator"})]}),(0,a.jsx)("div",{className:"px-1",children:(0,a.jsxs)("button",{onClick:()=>u.push("/admin/profile"),className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors",children:[(0,a.jsx)(l.A,{size:16}),"Profile Settings"]})}),(0,a.jsx)("div",{className:"my-1 border-t border-gray-100 dark:border-white/5"}),(0,a.jsx)("div",{className:"px-1",children:(0,a.jsxs)("button",{onClick:async()=>{await h.N.auth.signOut(),u.replace("/")},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[(0,a.jsx)(c,{size:16}),"Sign out"]})})]})]})]})]})}var x=r(5379),p=r(52619),y=r.n(p),b=r(65229);let g=(0,d.A)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var f=r(43586);function v(e){let{open:t,onClose:r}=e,n=(0,m.usePathname)(),{theme:i,setTheme:d}=(0,x.D)(),[c,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{r()},[n]);let u=!t,p="/admin"===n,v=n.startsWith("/admin/profile"),N=n.startsWith("/admin/subscription"),A=n.startsWith("/admin/my-hymns"),C=v||N;return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden",onClick:r}),(0,a.jsxs)("aside",{className:"\n          fixed md:fixed z-50\n          top-16 left-0\n          h-[calc(100vh-4rem)]\n          flex flex-col\n          bg-[var(--background)] text-[var(--foreground)]\n          border-r border-[var(--panel-border)]\n          transition-all duration-300 ease-in-out\n          ".concat(u?"w-16":"w-60","\n          ").concat(t?"translate-x-0":"-translate-x-full md:translate-x-0","\n        "),children:[(0,a.jsx)("div",{className:"md:hidden h-14 flex items-center justify-end px-3 border-b border-[var(--panel-border)]",children:(0,a.jsx)("button",{onClick:r,className:"opacity-70 hover:text-purple-500",children:(0,a.jsx)(b.A,{size:18})})}),(0,a.jsxs)("nav",{className:"\n            flex-1 px-2 py-5 space-y-4\n            ".concat(u?"overflow-visible":"overflow-y-auto","\n          "),children:[(0,a.jsx)(k,{href:"/admin",icon:(0,a.jsx)(g,{size:18}),label:"Dashboard",active:p,collapsed:u}),(0,a.jsx)(k,{href:"/admin/my-hymns",icon:(0,a.jsx)(f.A,{size:18}),label:"My Hymns",active:A,collapsed:u}),(0,a.jsxs)("div",{children:[u?(0,a.jsx)(y(),{href:"/admin/profile",children:(0,a.jsx)(w,{icon:(0,a.jsx)(l.A,{size:18}),label:"Account",active:C,collapsed:u})}):(0,a.jsx)(w,{icon:(0,a.jsx)(l.A,{size:18}),label:"Account",active:C,collapsed:u,onClick:()=>h(e=>!e),rightIcon:(0,a.jsx)(o.A,{size:14,className:"transition ".concat(c?"rotate-180":"")})}),!u&&c&&(0,a.jsxs)("div",{className:"ml-8 mt-2 space-y-2",children:[(0,a.jsx)(j,{href:"/admin/profile",active:v,children:"Profile"}),(0,a.jsx)(j,{href:"/admin/subscription",active:N,children:"Subscription"})]})]})]}),(0,a.jsxs)("div",{className:"px-2 py-4 border-t border-[var(--panel-border)] space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>d("dark"===i?"light":"dark"),className:"flex items-center gap-3 w-full px-3 py-2 rounded-md opacity-80 hover:text-purple-500 hover:bg-black/10 dark:hover:bg-white/10",children:[(0,a.jsx)("span",{children:"dark"===i?"\uD83C\uDF19":"☀️"}),!u&&(0,a.jsxs)("span",{className:"text-sm",children:["dark"===i?"Dark":"Light"," Mode"]})]}),!u&&(0,a.jsxs)("div",{className:"text-xs text-center opacity-50",children:["SoundOfHymns ","v0.9.0"]})]})]})]})}function k(e){let{href:t,icon:r,label:s,active:n,collapsed:i}=e;return(0,a.jsx)(y(),{href:t,children:(0,a.jsx)(w,{icon:r,label:s,active:n,collapsed:i})})}function w(e){let{icon:t,label:r,active:s,collapsed:n,onClick:i,rightIcon:l}=e;return(0,a.jsxs)("div",{onClick:i,className:"\n        group relative flex items-center gap-3 px-3 py-2.5 rounded-md cursor-pointer\n        transition\n        ".concat(s?"bg-black/10 dark:bg-white/10 text-purple-500":"opacity-80 hover:text-purple-500 hover:bg-black/10 dark:hover:bg-white/10","\n      "),children:[t,!n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-sm flex-1",children:r}),l]}),n&&(0,a.jsx)("div",{className:"   absolute left-full top-1/2 -translate-y-1/2 ml-3   px-2 py-1    bg-gray-900 dark:bg-white    text-white dark:text-gray-900    text-xs font-medium rounded shadow-md   opacity-0 group-hover:opacity-100    transition-opacity duration-75   pointer-events-none whitespace-nowrap   z-50   ",children:r})]})}function j(e){let{href:t,active:r,children:s}=e;return(0,a.jsx)(y(),{href:t,children:(0,a.jsx)("div",{className:"\n          px-3 py-2 rounded-md text-sm\n          ".concat(r?"bg-purple-500/10 text-purple-400":"hover:bg-purple-500/10","\n        "),children:s})})}function N(e){let{children:t}=e,[r,n]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"min-h-screen bg-[var(--background)] text-[var(--foreground)]",children:[(0,a.jsx)(u,{sidebarOpen:r,toggleSidebar:()=>n(e=>!e)}),(0,a.jsxs)("div",{className:"flex pt-16",children:[(0,a.jsx)(v,{open:r,onClose:()=>n(!1)}),(0,a.jsx)("main",{className:"\n            flex-1 px-4 md:px-6 py-6\n            transition-all duration-300\n            ".concat(r?"md:ml-60":"md:ml-16","\n          "),children:t})]})]})}},43586:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},65229:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},67980:(e,t,r)=>{Promise.resolve().then(r.bind(r,32480))},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(12115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:o?24*Number(l)/Number(s):l,className:n("lucide",d),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:o,...d}=r;return(0,a.createElement)(l,{ref:i,iconNode:t,className:n("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...d})});return r.displayName=s(e),r}},86651:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}},e=>{e.O(0,[619,376,417,441,255,358],()=>e(e.s=67980)),_N_E=e.O()}]);